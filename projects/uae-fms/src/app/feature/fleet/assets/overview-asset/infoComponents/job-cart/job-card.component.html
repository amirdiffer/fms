<div class="table-container" *ngIf="section == 'list' || section == 'detail-box'">
  <div class="card-table">
    <div class="row px-2">
      <p class="title col-md-6">{{ 'assets.overview.active_job_card_task' | translate }}</p>
      <span class="search-container card-table-header col-auto">
        <div class="search-box">
          <input type="text" placeholder="{{'search.search_in_columns' | translate}}">
          <button>
            <img _ngcontent-ylk-c262="" [src]="searchIcon" alt="">
          </button>
        </div>
        <button class="btn-download">
          <svg-icon [src]="downloadBtn"></svg-icon>
        </button>
        <button class="btn-primary-small" type="button" (click)="showSection('form')"><i>+</i><a>{{'search.task' | translate}}</a></button>
      </span>
    </div>
    <app-table [setting]="jobCard_Table1"></app-table>
  </div>
</div>
<ng-container *ngIf="section == 'detail-box'">
  <div class="edit-box">
    <div class="edit-box__box edit-box__box--first col-md-3">
      <h3>{{ 'assets.overview.job_card.latest_activity' | translate }}</h3>
      <ul>

      </ul>
    </div>
    <div class="edit-box__box edit-box__box--first col-md-5">
      <h3>{{ 'assets.overview.job_card.task_specification' | translate }}</h3>
      <ul>
        <li>
          <strong>{{ 'tables.column.priority' | translate }}</strong>
          <span>2</span>
        </li>
        <li>
          <strong>{{ 'tables.column.status' | translate }}</strong>
          <span class="danger">
            <svg-icon src="../../../../../assets/icons/out-of-policy.svg" [svgStyle]="{ 'width.px':23 , 'fill': '#fff' , 'height': '100%'}"></svg-icon>
            {{ 'tables.column.out_of_policy' | translate }}
          </span>
        </li>
        <li>
          <strong>{{ 'tables.column.start_date' | translate }}</strong>
          <span>20/202020</span>
        </li>
        <li>
          <strong>{{ 'tables.column.technician' | translate }}</strong>
          <span>
            <img class="user-image" src="../../../../../assets/mock-user.jpg"  />
            Sam Smith &nbsp;&nbsp; 1234567890
          </span>
        </li>
        <li>
          <strong>{{ 'tables.column.cost' | translate }}</strong>
          <span>12000 AED</span>
        </li>
        <li>
          <strong>{{ 'tables.column.part_cost' | translate }}</strong>
          <span>12000 AED</span>
        </li>
        <li>
          <strong>{{ 'tables.column.total_cost' | translate }}</strong>
          <span>12000 AED</span>
        </li>
        <li>
          <strong>{{ 'tables.column.technician' | translate }}</strong>
          <span>Text text text text text text text</span>
        </li>
      </ul>
    </div>
    <div class="edit-box__box edit-box__box--last col-md-4">
      <h3>{{ 'assets.overview.job_card.task_master_info' | translate }}</h3>
      <ul>
        <li>
          <strong>{{ 'tables.column.time_estimate' | translate }}</strong>
          <span>7 hours</span>
        </li>
        <li>
          <strong>{{ 'tables.column.instruction' | translate }}</strong>
          <span>Description is here</span>
        </li>
        <li>
          <strong>{{ 'tables.column.rate_per_hour' | translate }}</strong>
          <span>65 AED</span>
        </li>
        <li>
          <strong>{{ 'tables.column.skill' | translate }}</strong>
          <span>Skill is here</span>
        </li>
        <li>
          <strong>{{ 'tables.column.part' | translate }}</strong>
          <span>Filter</span>
        </li>
      </ul>
    </div>
  </div>
</ng-container>

<div class="table-container" *ngIf="section == 'list'">
  <div class="card-table">
    <span class="search-container card-table-header justify-content-start">
      <p class="title">{{ 'assets.overview.job_card_history' | translate }}</p>
    </span>
    <app-table [setting]="jobCard_Table2"></app-table>
  </div>
</div>
<div class="table-container" *ngIf="section == 'form'">
  <div class="card-table">
    <div class="row px-2">
      <p class="title col-md-4" style="color: red !important;">{{ 'assets.overview.select_issue' | translate }}</p>
      <span class="search-container card-table-header col-auto">
        <div class="search-box">
        <input type="text" placeholder="{{'search.search_in_columns' | translate}}">
        <button>
          <img _ngcontent-ylk-c262="" [src]="searchIcon" alt="">
        </button>
      </div>
        <button class="btn-download">
          <svg-icon [src]="downloadBtn"></svg-icon>
        </button>
        <button class="btn-primary-small mx-1" [routerLink]="[]" [queryParams]="{id:'Request'}"><a>{{'forms.save' | translate}}</a></button>
        <button class="btn-primary-small btn-scondary-green" type="button" (click)="showSection('list')"><a>{{'forms.cancel' | translate}}</a></button>
      </span>
    </div>
    <app-table [setting]="jobCard_Table3"></app-table>
  </div>
</div>
<form [formGroup]="formGroup" *ngIf="section == 'form'">
  <div class="form-section">
    <h3 class="form-section__title">{{ 'assets.overview.describe_job_card' | translate }}</h3>
    <div class="row form-section__row">
      <div class="col-12 p-field form-section__field">
              <span class="p-float-label">
                <input pInputText type="text">
                <label>{{ 'assets.overview.description' | translate }}</label>
                <anms-error
                  [showError]="false"
                  error="fms.errors.required"></anms-error>
              </span>
      </div>
    </div>
  </div>
  <div class="form-section" formArrayName="task">
    <h3 class="form-section__title">
      <span class='plus-icon'
        (click)="addTask()">
        <svg-icon src='../../../../../assets/icons/add.svg'
          [svgStyle]="{ 'width.px':18 , 'fill': '#0DA06E' , 'height':
          '100%'}"></svg-icon>
      </span>{{ 'assets.overview.task' | translate }}
    </h3>
    <div class="row form-section__row" [formGroupName]="i" *ngFor="let
    item of formGroup.get('task')['controls']; let i=
    index;">
      <div class="col-12 col-md-4 p-field form-section__field">
        <div class="autocomplete-select">
            <span class="p-float-label">
              <p-autoComplete
                [minLength]="1"></p-autoComplete>
              <i class="pi pi-search"></i>
              <label>{{ 'assets.overview.task' | translate }}</label>
            </span>
        </div>
      </div>
      <div class="col-12 col-md-4 p-field form-section__field options-select">
          <span class="p-float-label">
            <p-dropdown id="priority" inputId="priority" [autoDisplayFirst]="false"
                        [options]="[]" optionLabel="name"></p-dropdown>
            <label for="priority">{{ 'assets.overview.priority' | translate }} *</label>
            <anms-error
              [showError]="false"
              error="fms.errors.required">
            </anms-error>
          </span>
      </div>
      <div class="col-12 col-md-4 p-field form-section__field options-select">
          <span class="p-float-label">
            <p-dropdown id="technician" inputId="technician" [autoDisplayFirst]="false"
                        [options]="[]" optionLabel="name"></p-dropdown>
            <label for="technician">{{ 'assets.overview.technician' | translate }} *</label>
            <anms-error
              [showError]="false"
              error="fms.errors.required">
            </anms-error>
          </span>
      </div>
      <div class="col-12 col-md-8 p-field form-section__field">
              <span class="p-float-label">
                <input pInputText type="text">
                <label>{{ 'assets.overview.location' | translate }}</label>
                <anms-error
                  [showError]="false"
                  error="fms.errors.required"></anms-error>
              </span>
      </div>
      <div class="col-12 col-md-4 form-section__field toggle-select">
        <p-inputSwitch></p-inputSwitch>
        <span>{{ 'assets.overview.need_part' | translate }}</span>
      </div>
    </div>
  </div>
</form>
