<!-- start table -->
<div *ngIf="showTable else form">
    <ng-container *ngIf="(requestFilterHide$ | async )">
        <div class="filter-container">
            <app-filter [setting]="filterSetting"></app-filter>
        </div>
    </ng-container>
    <div class="table-container component_wrapper">
        <div class="pt-1">
            <div>
                <app-tab-view>
                    <span class="search-container card-table-header">
                        <div class="search-box">
                            <input type="text" placeholder="Search in Columns">
                            <button><img
                                    src="../../../../assets/icons/search-solid.svg"
                                    alt=""></button>
                        </div>
                        <button class="btn-download" disabled>
                            <svg-icon [src]="downloadBtn"></svg-icon>
                        </button>
                        <button class="btn-primary-small"  (click)="showTable=false"><i>+</i><a>Add</a></button>
                    </span>
                    <div title="Movement Over View">
                        <app-table [setting]="movementOverViewTableSetting"></app-table>
                    </div>
                    <div title="Request" #requestTab>
                        <app-table [setting]="requestTableSetting"></app-table>
                    </div>
                </app-tab-view>
            </div>
        </div>
    </div>
</div>
<!-- end table -->
<!-- start form -->
<ng-template #form>
    <form [formGroup]="requestForm">
        <div class="button-container">
            <button class="btn-primary-medium btn-scondary-green" routerLink="..">Cancel</button>
            <button class="btn-primary-medium add" type="submit" >Add</button>
        </div>
        <div class="form-section form-section--inline">
            <div class="row">
                <div class="col-12 col-md-2">
                    <h3 class="form-section__title">Request Type</h3>
                </div>
                <div class="col-12 col-md-4">
                    <div class="row">
                        <!-- start requestType -->
                        <div class="col-12 col-md-12 p-field form-section__field
                            radio-select">
                            <p-radioButton name="requestType" value="new"
                                label="New" formControlName="requestType"></p-radioButton>
                            <p-radioButton name="requestType"
                                value="replacement"
                                label="Replacement"
                                formControlName="requestType"></p-radioButton>
                        </div>
                        <!-- end requestType -->
                    </div>
                </div>
                <!-- start assetType -->
                <div class="col-12 col-md-6 p-field form-section__field
                    dropdown-select">
                    <p-dropdown formControlName="assetType"
                        [options]="assetTypes" optionLabel="name"></p-dropdown>
                </div>
                <!-- end assetType -->
            </div>
        </div>

        <div class="form-section">
            <!-- start resone -->
            <div class="row form-section__row">
                <div class="col-12 p-field form-section__field">
                    <span class="p-float-label">
                        <input pInputText placeholder="Resone *"
                            formControlName="resone" required
                            type="text">
                        <label>Resone *</label>
                    </span>
                </div>
            </div>
            <!-- end reasone -->
            <!-- start quantity -->
            <div class="row form-section__row">
                <div class="col-12 p-field form-section__field"
                    *ngIf="requestForm.controls['requestType'].value === 'new'">
                    <span class="p-float-label">
                        <input pInputText placeholder="Quantity *"
                            formControlName="quality" required
                            type="text">
                        <label>Quantity *</label>
                    </span>
                </div>
            </div>
            <!-- end quantity -->
            <div class="row form-section__row">
                <!-- start oldAssetType -->
                <div class="col-12 col-md-5 p-field form-section__field
                    justify-height"
                    *ngIf="requestForm.controls['requestType'].value ===
                    'replacement'">
                    <div class="autocomplete-select">
                        <span class="p-float-label">
                            <p-autoComplete formControlName="oldAssetType"
                                (completeMethod)="filterAssets($event)"
                                [suggestions]="oldAssetSuggests" field="name"
                                [minLength]="1"></p-autoComplete>
                            <i class="pi pi-search"></i>
                            <label>Old Asset *</label>
                        </span>
                    </div>
                </div>
                <!-- end oldAssetType -->
            </div>
        </div>
    </form>
</ng-template>
<!-- end form -->